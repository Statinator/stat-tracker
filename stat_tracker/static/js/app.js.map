{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","node_modules/form-to-obj/form-to-obj.js","src/js/controllers/activities.js","src/js/controllers/new-activity.js","src/js/controllers/user-login.js","src/js/controllers/user-page.js","src/js/controllers/user-reg.js","src/js/init.js","src/js/router.js","src/js/sorted-router.js"],"names":[],"mappings":"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","file":"app.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","function formToObj(form) {\n  var fields = formToArr(form);\n  \n  fields.sort(function (a, b) {\n    return a.name.localeCompare(b.name);\n  });\n  \n  return fields.reduce(function(obj, field) {\n    addProp(obj, field.name, field.value);\n    return obj;\n  }, {});\n  \n  function formToArr(form) {\n    var inputs = form.querySelectorAll('input, textarea, select');\n    var arr = [];\n    \n    for (var i = 0; i < inputs.length; ++i) {\n      var input = inputs[i];\n      \n      if ((input.type === 'checkbox' || input.type === 'radio') \n          && !input.checked) {\n        continue;\n      }\n      \n      arr.push({\n        name: input.name,\n        value: input.value\n      });\n    }\n    \n    return arr;\n  }\n  \n  function addProp(o, prop, val) {\n    var props = prop.split('.');\n    var lastProp = props.length - 1;\n    \n    props.reduce(function (obj, prop, i) {\n      if (i === lastProp) {\n        return setProp(obj, prop, val);\n      } else {\n        return setProp(obj, prop, {});\n      }\n    }, o);\n  }\n  \n  function setProp(obj, name, val) {\n    if (name.slice(-2) === '[]') {\n      makeArr(obj, name).push(val);\n    } else if (obj[name]) {\n      return obj[name];\n    } else if (name[name.length - 1] === ']') {\n      var arr = makeArr(obj, name);\n\n      if (arr.prevName === name) {\n        return arr[arr.length - 1];\n      } \n\n      arr.push(val);\n      arr.prevName = name;\n    } else {\n      obj[name] = val;\n    }\n\n    return val;\n  }\n  \n  function makeArr(obj, name) {\n    var arrName = name.replace(/\\[\\d*\\]/, '');\n    return (obj[arrName] || (obj[arrName] = []));\n  }\n}\n\nif (typeof module !== 'undefined' && module.exports) {\n  module.exports = formToObj;\n}","'use strict';\n\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar views = require('views');\nvar router = require('../router');\n\nrouter.route('activities', function () {\n  \n  render();\n\nfunction render () {\n   $('.main-content').html(views['activities']);\n   $.ajax({\n      headers: { \"X-CSRFToken\": csrftoken },\n      url: 'http://localhost:8000/api/activities/',\n      method: 'GET'\n    })\n    .done(function (data) {\n      alert('success');\n      console.log(data);\n      })\n    .fail(function (arguements) {\n      console.log(arguements);\n    });\n  }; \n  \n  var csrftoken = getCookie('csrftoken');\n  console.log(csrftoken);\n  \n  function getCookie(name) {\n  var cookieValue = null;\n  if (document.cookie && document.cookie != '') {\n      var cookies = document.cookie.split(';');\n      for (var i = 0; i < cookies.length; i++) {\n          var cookie = $.trim(cookies[i]);\n          // Does this cookie string begin with the name we want?\n          if (cookie.substring(0, name.length + 1) == (name + '=')) {\n              cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n              break;\n          }\n      }\n  }\n  return cookieValue;\n  }\n  \n});","'use strict';\n\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar views = require('views');\nvar router = require('../router');\n\nrouter.route('new-activity', function () {\n\n  $('.main-content').html(views['new-activity']);\n  \n  var csrftoken = getCookie('csrftoken');\n  console.log(csrftoken);\n  \n  $('.new-activity').on('submit', function () {\n    \n    var data = {\n      'title': $('.name-input').val(),\n      \"posted_at\": \"2015-12-31\"\n    }\n    \n    console.log(data);\n    \n    $.ajax({\n      headers: { \"X-CSRFToken\": csrftoken },\n      url: 'http://localhost:8000/api/activities/',\n      method: 'POST',\n      data: data\n    })\n    .done(function () {\n      alert('success');\n    })\n    .fail(function (arguements) {\n      console.log(arguements);\n    })\n  });\n  \n  function getCookie(name) {\n  var cookieValue = null;\n  if (document.cookie && document.cookie != '') {\n      var cookies = document.cookie.split(';');\n      for (var i = 0; i < cookies.length; i++) {\n          var cookie = $.trim(cookies[i]);\n          // Does this cookie string begin with the name we want?\n          if (cookie.substring(0, name.length + 1) == (name + '=')) {\n              cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n              break;\n          }\n      }\n  }\n  return cookieValue;\n  }\n  \n});","'use strict';\n\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar views = require('views');\nvar router = require('../router');\n\nrouter.route('','stat-tracker', function () {\n\n  $('.main-content').html(views['user-login']);\n  \n  $.ajax({\n    url: 'http://localhost:8000/api/activities',\n    method: 'GET'\n  })\n  .then(function (data) {\n    console.log(data);\n  });\n  \n});","'use strict';\n\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar views = require('views');\nvar router = require('../router');\n\nrouter.route('stat-tracker/:id', function () {\n\n  $('.main-content').html(views['user-page']);\n  \n});","'use strict';\n\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar views = require('views');\nvar router = require('../router');\nvar formToObj = require('form-to-obj');\n\nrouter.route('register', function () {\n\n  $('.main-content').html(views['user-reg']);\n  var csrftoken = getCookie('csrftoken');\n  console.log(csrftoken);\n  \n  $('.user-reg-form').on('submit', function () {\n    \n    var data = {\n      'username': $('.username').val(),\n      'password': $('.password').val(),\n      'email': $('.email').val()\n    }\n    \n    console.log(data);\n    \n    $.ajax({\n      headers: { \"X-CSRFToken\": csrftoken },\n      url: 'http://localhost:8000/api/users/',\n      method: 'POST',\n      data: data\n    })\n    .done(function () {\n      alert('success');\n    })\n    .fail(function (arguements) {\n      console.log(arguements);\n    })\n  });\n  \n  function getCookie(name) {\n  var cookieValue = null;\n  if (document.cookie && document.cookie != '') {\n      var cookies = document.cookie.split(';');\n      for (var i = 0; i < cookies.length; i++) {\n          var cookie = $.trim(cookies[i]);\n          // Does this cookie string begin with the name we want?\n          if (cookie.substring(0, name.length + 1) == (name + '=')) {\n              cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n              break;\n          }\n      }\n  }\n  return cookieValue;\n  }\n  \n});","'use strict';\n\n\nvar router = require('./router');\n\n// Require all of our controllers\n({\"controllers\":({\"activities\":require(\"./controllers/activities.js\"),\"new-activity\":require(\"./controllers/new-activity.js\"),\"user-login\":require(\"./controllers/user-login.js\"),\"user-page\":require(\"./controllers/user-page.js\"),\"user-reg\":require(\"./controllers/user-reg.js\")})});\n\n// Start the router\nrouter.init();","'use strict';\n\nvar SortedRouter = require('./sorted-router');\n\nmodule.exports = new SortedRouter();","'use strict';\n \nvar Backbone = require('backbone');\nvar _ = require('underscore');\n \nvar SortedRouter = Backbone.Router.extend({\n  sortedRoutes: {},\n  \n  // Overwrite the Backbone.Router.route method so we can \n  // register routes in the correct order.\n  route: function () {\n    var len = arguments.length - 1,\n        callback = arguments[arguments.length - 1];\n \n    for (var i = 0; i < len; ++i) {\n      this.sortedRoutes[arguments[i]] = callback;\n    }\n  },\n  \n  init: function () {\n    // A magic number to force a route to be lowest specificity\n    // Number.MIN_VALUE didn't work...\n    var lowestRoute = -1000000;\n    var me = this;\n \n    // Register all routes, sorted by specificity\n    _.chain(_.pairs(this.sortedRoutes))\n      .sortBy(function (route) {\n        var url = route[0];\n \n        if (url.indexOf('*') >= 0) {\n          return lowestRoute;\n        } else {\n          return -url.split(':').length;\n        }\n      })\n      .each(function (route) {\n        Backbone.Router.prototype.route.apply(me, route);\n      });\n \n    // Start the backbone routing subsystem\n    Backbone.history.start();\n  }\n});\n \nmodule.exports = SortedRouter;"]}